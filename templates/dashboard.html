{% extends "base.html" %}
{% block head %}
<title>Dashboard</title>
{% endblock %}

{% block body %}
<div class="container">

    <div class="section">
        <h2>General Overview</h2>
        <p><strong>Total Students:</strong> {{ data.total }}</p>

        <div class="list-row">
            <div class="list-box">
                <h3>Gender Breakdown</h3>
                <ul>
                    {% for key, value in data.gender.items() %}
                    <li>{{ key.title() }}: {{ value }}</li>
                    {% endfor %}
                </ul>
            </div>
            <div class="list-box">
                <h3>Fee Status</h3>
                <ul>
                    {% for key, value in data.fee.items() %}
                    <li>{{ key.title() }}: {{ value }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>

    <div class="section">
        <h2>Academic Overview</h2>
        <div class="list-row">
            <div class="list-box">
                <h3>Average Marks per Subject</h3>
                <ul>
                    {% for subject, avg in data.avgmarks.items() %}
                    <li>{{ subject }}: {{ avg | round(2) }}</li>
                    {% endfor %}
                </ul>
            </div>

            <div class="list-box">
                <h3>Students Per Class</h3>
                <ul>
                    {% for cls, count in data.stuinclass.items() %}
                    <li>{{ cls }}: {{ count }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>

    <div class="section">
        <h2>Class-wise Gender Stats</h2>
        <div class="list-row">
            <div class="list-box">
                <h3>Male Students per Class</h3>
                <ul>
                    {% for cls, count in data.male.items() %}
                    <li>{{ cls }}: {{ count }}</li>
                    {% endfor %}
                </ul>
            </div>
            <div class="list-box">
                <h3>Female Students per Class</h3>
                <ul>
                    {% for cls, count in data.female.items() %}
                    <li>{{ cls }}: {{ count }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>

</div>
{% endblock %}
